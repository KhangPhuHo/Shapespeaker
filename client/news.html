<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>News</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  <link rel="website icon" type="image/png" href="./src/img/shapespeakicon.jpg">

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="./src/css/styles.css">
  <link rel="stylesheet" href="./src/css/menure.css">
  <link rel="stylesheet" href="./src/css/toast.css">
  <link rel="stylesheet" href="./src/css/chatbot.css">


  <style>
    /* Scrollbar style */
    ::-webkit-scrollbar {
      width: 6px;
    }

    ::-webkit-scrollbar-thumb {
      background-color: #F9A8D4;
      border-radius: 10px;
    }

    .product {
      all: unset;
      /* xoá toàn bộ thuộc tính cũ */
    }

    .popup {
      top: 50%;
      transform: translateY(-50%);
    }

    #suggestions div:hover {
      background-color: rgba(255, 255, 255, 0.1);
      cursor: pointer;
      border-radius: 6px;
    }

    .popup-container {
      display: none;
      /* Mặc định ẩn */
      position: fixed;
      inset: 0;
      /* top: 0, left: 0, bottom: 0, right: 0 */
      background: rgba(0, 0, 0, 0.8);
      z-index: 1000;
      justify-content: center;
      align-items: center;
      padding: 1rem;
      overflow: auto;
    }

    .popup {
      background-color: #1f2937;
      /* Tailwind gray-900 */
      color: white;
      border-radius: 1rem;
      max-width: 500px;
      width: 100%;
      max-height: 85vh;
      padding: 1rem;
      overflow-y: auto;
      position: relative;

      /* Scrollbar custom */
      scrollbar-width: thin;
      scrollbar-color: #F9A8D4 transparent;
      /* Firefox */
    }

    /* WebKit scrollbar (Chrome, Edge, Safari) */
    .popup::-webkit-scrollbar {
      width: 10px;
    }

    .popup::-webkit-scrollbar-track {
      background: transparent;
      border-radius: 10px;
    }

    .popup::-webkit-scrollbar-thumb {
      background-color: #F9A8D4;
      border-radius: 10px;
      border: 2px solid transparent;
      /* để tạo khoảng cách giữa track */
      background-clip: padding-box;
    }

    .popup::-webkit-scrollbar-thumb:hover {
      background-color: #aaa;
    }

    @keyframes pillIn {
      0% {
        transform: translateY(8px) scale(0.8);
        opacity: 0;
      }

      100% {
        transform: translateY(0) scale(1);
        opacity: 1;
      }
    }

    .animate-pill {
      animation: pillIn 0.25s ease-out forwards;
    }

    .flip-card {
      perspective: 1200px;
      width: 100%;
      height: 100%;
      position: relative;
    }

    .flip-inner {
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
      transition: transform 0.7s ease-in-out;
      position: relative;
    }

    .flip-inner.rotate-y-180 {
      transform: rotateY(180deg);
    }

    .face {
      backface-visibility: hidden;
      position: absolute;
      inset: 0;
      overflow-y: auto;
    }

    .back {
      transform: rotateY(180deg);
    }

    @media (max-width: 640px) {
      .face {
        padding: 1rem;
      }
    }

    #product-intro .absolute {
      position: absolute;
    }
  </style>
</head>

<body class=" min-h-screen">
  <img id="background-img" src="./src/img/background.webp" alt="background">

  <div id="Menu"></div>
  <div id="bot"></div>

  <div id="content9" class="relative z-10 px-4 max-w-7xl mx-auto">
    <!-- Tìm kiếm + Suggest -->
    <div id="searchNews" class="mt-32 flex flex-col items-center gap-4">
      <!-- Ô tìm kiếm có viền gradient-->
      <input id="search" type="text"
        class="w-full sm:w-[80%] md:w-[500px] px-4 py-2 rounded-full bg-white/10 text-black placeholder-gray-900 border border-yellow-400 focus:outline-none focus:ring-2 focus:ring-orange-400"
        data-i18n="news.placeholder" onkeyup="search(); suggest()" placeholder="Search for the news..." />

      <div id="suggestions" class="w-full sm:w-[80%] md:w-[500px] text-gray-900 bg-white rounded-xl shadow"></div>
    </div>

    <!-- ✅ Popup container bao phủ màn hình -->
    <div class="popup-container fixed inset-0 bg-black/70 items-center justify-center z-50">
      <!-- ✅ Popup chính (nội dung nằm trong đây) -->
      <div
        class="popup w-full sm:w-[90%] md:w-[600px] lg:w-[50%] max-h-[85vh] overflow-hidden bg-gray-900 text-white p-0 rounded-2xl shadow-2xl relative">

        <!-- ✅ Thêm flip-card vào trong popup -->
        <div class="flip-card w-full h-[85vh] max-h-[85vh] mx-auto">
          <div class="flip-inner relative overflow-hidden transition-transform duration-700 w-full h-full">

          </div>
        </div>
      </div>
    </div>

    <!-- ✅ Modal preview ảnh lớn — đặt ngoài popup -->
    <div id="image-preview-modal"
      class="fixed inset-0 bg-black/80 hidden items-center justify-center z-[60] backdrop-blur-sm transition-opacity duration-300 px-2 pt-[80px] pb-4 overflow-auto">

      <div class="relative max-w-full max-h-full">
        <!-- Ảnh preview -->
        <img id="preview-image"
          class="rounded-lg shadow-lg object-contain max-w-full max-h-[90vh] transition-transform duration-300 scale-100 mx-auto hidden"
          src="" alt="Preview" />

        <!-- Video preview -->
        <video id="preview-video" controls
          class="rounded-lg shadow-lg object-contain max-w-full max-h-[90vh] transition-transform duration-300 scale-100 mx-auto hidden">
        </video>

        <!-- Nút đóng -->
        <button id="close-preview"
          class="absolute top-0 right-0 mt-2 mr-2 bg-white rounded-full p-1 shadow hover:scale-110 transition">
          <i class="fa-solid fa-xmark text-gray-700"></i>
        </button>
      </div>
    </div>

    <!-- Nút sắp xếp -->
    <button id="sortToggle"
      class="px-4 py-2 bg-gradient-to-r from-yellow-400 to-orange-400 text-white font-semibold rounded-full shadow-md flex items-center gap-2 hover:scale-105 hover:rotate-1 transition duration-300">
      <i id="sortIcon" class="fa-solid fa-retweet transition-transform duration-500"></i>
      <span id="sortLabel" data-i18n="news.sort_newest">Newest First</span>
    </button>

    <!-- Loading -->
    <div id="product-loading" class="text-center py-8 text-black animate-pulse hidden">
      <i class="fa-solid fa-newspaper"></i> <span data-i18n="news.loading">Loading news for you...</span>
    </div>

    <!-- Danh sách sách mới -->
    <div id="Lastestnews"
      class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 mt-12">
    </div>
  </div>
  <br><br><br><br>

  <!-- Footer -->
  <footer class="bg-gray-900 text-gray-300 py-8 border-t border-gray-700">
    <div class="max-w-7xl mx-auto px-4 grid grid-cols-1 md:grid-cols-3 gap-8">

      <!-- Logo & Name -->
      <div class="flex flex-col items-center md:items-start text-center md:text-left space-y-3">
        <img src="./src/img/shapespeakicon.jpg" alt="logo" class="w-16 h-16 aspect-square rounded-full object-cover">
        <a href="home.html" class="flex items-center font-extrabold space-x-2"><span
            class="text-lg md:text-xl">ShapeSpeak</span></a>
        <p class="text-sm text-gray-400 font-semibold" data-i18n="footer.slogan"> TOY FOR CHILDREN</p>
      </div>

      <!-- Contact Us -->
      <div class="flex flex-col items-center md:items-start text-center md:text-left space-y-3">
        <h3 class="text-lg font-semibold text-white" data-i18n="footer.contact">Contact Us</h3>
        <div class="flex space-x-4 text-2xl">
          <a href="https://x.com/i/flow/login" class="hover:text-yellow-400 transition">
            <i class="fa-brands fa-x-twitter"></i>
          </a>
          <a href="https://www.facebook.com/" class="text-blue-600 hover:text-yellow-400 transition">
            <i class="fa-brands fa-facebook"></i>
          </a>
          <a href="https://www.instagram.com/" class="text-pink-500 hover:text-yellow-400 transition">
            <i class="fa-brands fa-instagram"></i>
          </a>
          <a href="https://www.google.com/intl/vi/gmail/about/" class="text-red-400 hover:text-yellow-400 transition">
            <i class="fa-solid fa-envelope"></i>
          </a>
        </div>
      </div>

      <!-- Find Us -->
      <div class="flex flex-col items-center md:items-start text-center md:text-left space-y-3">
        <h3 class="text-lg font-semibold text-white" data-i18n="footer.find_us">Find Us</h3>
        <iframe src="https://maps.google.com/maps?q=HCMCity,+Njemačka&output=embed" width="100%" height="250"
          frameborder="0" style="border:0" allowfullscreen></iframe>
      </div>

    </div>

    <!-- Bottom -->
    <div class="text-center text-gray-500 text-xs mt-6" data-i18n="footer.copyright">
      &copy; 2024 ShapeSpeak. All rights reserved.
    </div>
  </footer>

  <!-- Toast container -->
  <div id="toast-container" class="fixed top-20 right-4 z-[1100] space-y-2 max-w-xs w-full md:w-auto mx-auto md:mx-0">
  </div>

  <!--file này phải có trước để load ngôn ngữ-->
  <script type="module" src="./src/js/language.js" defer></script>
  <script type="module" src="./src/js/toast.js"></script>

  <!--Có rồi mới thêm các hàm còn lại-->
  <script type="module" src="./src/js/firebase-config.js"></script>
  <script src="./src/js/menu.js"></script>
  <script type="module" src="./src/js/news.js"></script>
  <script type="module" src="./src/js/comments.js"></script>
  <script type="module" src="./src/js/profile.js"></script>
  <script type="module" src="./src/js/logout.js"></script>
  <script type="module" src="./src/js/chatbot.js"></script>
  <script type="module">
    import { enableSessionKeepAlive } from "./src/js/session-keeper.js";
    enableSessionKeepAlive();
  </script>
</body>

</html>